!function(e){"use strict";butterbean.views.register_control("dashboard",{tagName:"div",attributes:function(){return{id:"butterbean-control-"+this.model.get("name"),"class":"butterbean-control butterbean-control-"+this.model.get("type")}},initialize:function(){e(window).bind("bgseo-report",_.bind(this.getAnalysis,this));this.model.get("type");this.bgseo_template=wp.template("butterbean-control-dashboard"),_.bindAll(this,"render"),this.model.bind("change",this.render)},results:function(e){var t={};return _.each(e,function(e){_.extend(t,e)}),t},getAnalysis:function(e,t){var n,o=this.model.get("section"),s=_.pick(t,o);this.sectionReport=this.results(s),this.model.set("analysis",this.sectionReport),_(t).each(function(e){_.isUndefined(e.sectionScore)||(n=BOLDGRID.SEO.Sections.score(e),_(e).extend(n))}),_(t.bgseo_dashboard).extend({overview:{score:BOLDGRID.SEO.Dashboard.overviewScore(t)}}),_(t.bgseo_dashboard.overview).extend({status:BOLDGRID.SEO.Dashboard.overviewStatus(t.bgseo_dashboard.overview.score)}),BOLDGRID.SEO.Sections.navHighlight(t),BOLDGRID.SEO.Sections.overviewStatus(t)},render:function(){return this.model.get("active")&&(this.el.innerHTML=this.bgseo_template(this.model.toJSON())),this}})}(jQuery),function(e){"use strict";butterbean.views.register_control("keywords",{tagName:"div",attributes:function(){return{id:"butterbean-control-"+this.model.get("name"),"class":"butterbean-control butterbean-control-"+this.model.get("type")}},initialize:function(){e(window).bind("bgseo-report",_.bind(this.getAnalysis,this));this.model.get("type");this.bgseo_template=wp.template("butterbean-control-keywords"),_.bindAll(this,"render"),this.model.bind("change",this.render)},getAnalysis:function(e,t){this.model.set(t)},render:function(){return this.model.get("active")&&(this.el.innerHTML=this.bgseo_template(this.model.toJSON())),this}})}(jQuery);var BOLDGRID=BOLDGRID||{};BOLDGRID.SEO=BOLDGRID.SEO||{},function(e){"use strict";var t;BOLDGRID.SEO.Admin={init:function(){e(document).ready(function(){t._setWordCounts()})},wordCount:function(n){var o=n.attr("maxlength"),s=e("<span />",{"class":"boldgrid-seo-meta-counter",style:"font-weight: bold"}),r=e("<div />",{"class":"boldgrid-seo-meta-countdown boldgrid-seo-meta-extra",html:" characters left"});o&&n.removeAttr("maxlength").after(r.prepend(s)).on("keyup focus",function(){t.setCounter(s,n,o)}),t.setCounter(s,n,o)},setCounter:function(e,t,n){var o=t.val(),s=o.length;e.html(n-s),"boldgrid-seo-field-meta_description"===t.context.id?s>n?e.css({color:"red"}):s.isBetween(0,126)?e.css({color:"goldenrod"}):s>125?e.css({color:"limegreen"}):e.css({color:"black"}):s>n?e.css({color:"red"}):s.isBetween(0,30)?e.css({color:"goldenrod"}):s>29?e.css({color:"limegreen"}):e.css({color:"black"})},_setWordCounts:function(){e("#boldgrid-seo-field-meta_title, #boldgrid-seo-field-meta_description").each(function(){t.wordCount(e(this))})}},t=BOLDGRID.SEO.Admin}(jQuery),BOLDGRID.SEO.Admin.init(),function(e){"use strict";var t,n={bgseo_visibility:{},bgseo_dashboard:{},bgseo_keywords:{},bgseo_meta:{},rawstatistics:{},textstatistics:{}};BOLDGRID.SEO.TinyMCE={init:function(){t.onloadContent(),t.generateReport(),e(document).ready(function(){t.editorChange()})},onloadContent:function(){e("#content.wp-editor-area[aria-hidden=false]");e(window).on("load bgseo-media-inserted",function(){var n=t.getContent();t.getRenderedContent(),_.defer(function(){e("#content").trigger("bgseo-analysis",[n])})})},getContent:function(){var n;return tinymce.ActiveEditor?n=tinyMCE.get(wpActiveEditor).getContent():(n=e("#content").val(),n=n.replace(/\r?\n|\r/g,"")),n={raw:n,text:t.stripper(n.toLowerCase())}},getRenderedContent:function(){var t,o;o=e("#preview-action > .preview.button").attr("href"),e("#sample-permalink").length&&e.get(o,function(o){var s,r,i,a;a=e(o),r=a.find("h1"),i=a.find("h2"),s={h1:{length:r.length,text:BOLDGRID.SEO.Headings.getHeadingText(r)},h2:{length:i.length,text:BOLDGRID.SEO.Headings.getHeadingText(i)}},_(n.bgseo_dashboard).extend({headings:{count:s,lengthScore:BOLDGRID.SEO.Headings.score(s.h1.length)}}),_(n.bgseo_keywords).extend({keywordHeadings:{length:BOLDGRID.SEO.Headings.keywords({count:s}),lengthScore:BOLDGRID.SEO.Keywords.headingScore(BOLDGRID.SEO.Headings.keywords({count:s}))}}),t={h1Count:r.length-n.rawstatistics.h1Count,h1text:_(BOLDGRID.SEO.Headings.getHeadingText(r)).difference(n.rawstatistics.h1text),h2Count:i.length-n.rawstatistics.h2Count,h2text:_(BOLDGRID.SEO.Headings.getHeadingText(i)).difference(n.rawstatistics.h2text)},_.extend(n,{rendered:t}),e("#content").trigger("bgseo-report",[BOLDGRID.SEO.TinyMCE.getReport()])},"html")},editorChange:function(){var n,o;return e("#content.wp-editor-area").on("input propertychange paste nodechange",function(){o=e(this).attr("id"),n=t.wpContent(o)}),n},tmceChange:function(e){var n,o=e.target.id;return n=t.wpContent(o)},wpContent:function(n){var o={};switch(n){case"tinymce":tinymce.activeEditor&&(o=tinyMCE.get(wpActiveEditor).getContent());break;case"content":o=e("#content").val(),o=o.replace(/\r?\n|\r/g,"")}o={raw:o,text:t.stripper(o.toLowerCase())},e("#content").trigger("bgseo-analysis",[o])},stripper:function(e){var t;return t=document.implementation.createHTMLDocument("New").body,t.innerHTML=e,t.textContent||t.innerText||" "},generateReport:function(){e(document).on("bgseo-analysis",function(o,s){var r,i,a;if(i=e("#boldgrid-seo-field-meta_title").val().length,a=e("#boldgrid-seo-field-meta_description").val().length,s.count&&(r={length:s.count,lengthScore:BOLDGRID.SEO.ContentAnalysis.seoContentLengthScore(s.count)},0===s.count&&(r={length:0,lengthScore:BOLDGRID.SEO.ContentAnalysis.seoContentLengthScore(0)}),_(n.bgseo_dashboard).extend({wordCount:r})),_(n.bgseo_dashboard).extend({wordCount:{length:Number(e("#wp-word-count .word-count").text())}}),s){if(s.raw){var d=e(s.raw).find("h1"),g=e(s.raw).find("h2"),c={};c={h1Count:d.length,h1text:BOLDGRID.SEO.Headings.getHeadingText(d),h2Count:g.length,h2text:BOLDGRID.SEO.Headings.getHeadingText(g),imageCount:e(s.raw).find("img").length},_(n.rawstatistics).extend(c)}if(s.text){var l=BOLDGRID.SEO.Headings.getRealHeadingCount(),u=s.text;_(n).extend({bgseo_dashboard:{sectionScore:{},sectionStatus:{},image:{length:n.rawstatistics.imageCount,lengthScore:BOLDGRID.SEO.ContentAnalysis.seoImageLengthScore(n.rawstatistics.imageCount)},headings:l,wordCount:{lengthScore:BOLDGRID.SEO.ContentAnalysis.seoContentLengthScore(n.bgseo_dashboard.wordCount.length)}},bgseo_meta:{title:{length:i,lengthScore:BOLDGRID.SEO.Title.titleScore(i)},description:{length:a,lengthScore:BOLDGRID.SEO.Description.descriptionScore(a),keywordUsage:BOLDGRID.SEO.Description.keywords()},titleKeywordUsage:{lengthScore:BOLDGRID.SEO.Keywords.titleScore(BOLDGRID.SEO.Title.keywords())},descKeywordUsage:{lengthScore:BOLDGRID.SEO.Keywords.descriptionScore(BOLDGRID.SEO.Description.keywords())},sectionScore:{},sectionStatus:{}},bgseo_visibility:{robotIndex:{lengthScore:BOLDGRID.SEO.Robots.indexScore()},robotFollow:{lengthScore:BOLDGRID.SEO.Robots.followScore()},sectionScore:{},sectionStatus:{}},bgseo_keywords:{keywordTitle:{lengthScore:BOLDGRID.SEO.Keywords.titleScore(BOLDGRID.SEO.Title.keywords())},keywordDescription:{lengthScore:BOLDGRID.SEO.Keywords.descriptionScore(BOLDGRID.SEO.Description.keywords())},keywordContent:{lengthScore:BOLDGRID.SEO.Keywords.contentScore(BOLDGRID.SEO.ContentAnalysis.keywords(u))},keywordHeadings:{length:BOLDGRID.SEO.Headings.keywords(l),lengthScore:BOLDGRID.SEO.Keywords.headingScore(BOLDGRID.SEO.Headings.keywords(l))},sectionScore:{},sectionStatus:{}},textstatistics:{recommendedKeywords:BOLDGRID.SEO.Keywords.recommendedKeywords(u,1)}}),n.bgseo_dashboard.wordCount.length>99&&(_(n.textstatistics).extend({recommendedKeywords:BOLDGRID.SEO.Keywords.recommendedKeywords(u,1)}),_(n.bgseo_dashboard).extend({gradeLevel:BOLDGRID.SEO.Readability.gradeLevel(u)}),_(n.textstatistics).extend({customKeyword:BOLDGRID.SEO.Keywords.getKeyword()}),_(n.bgseo_keywords).extend({customKeyword:BOLDGRID.SEO.Keywords.getKeyword(),keywordDensity:BOLDGRID.SEO.Keywords.keywordDensity(u,BOLDGRID.SEO.Keywords.getKeyword())}))}s.titleLength&&(_(n.bgseo_meta.title).extend({length:s.titleLength,lengthScore:BOLDGRID.SEO.Title.titleScore(s.titleLength)}),_(n.bgseo_meta.titleKeywordUsage).extend({lengthScore:BOLDGRID.SEO.Keywords.titleScore(BOLDGRID.SEO.Title.keywords())}),_(n.bgseo_keywords.keywordTitle).extend({lengthScore:BOLDGRID.SEO.Keywords.titleScore(BOLDGRID.SEO.Title.keywords())})),s.keywords&&(_(n.bgseo_keywords).extend({customKeyword:s.keywords.keyword}),e("#content").trigger("bgseo-analysis",[t.getContent()])),s.descLength&&(_(n.bgseo_meta.description).extend({length:s.descLength,lengthScore:BOLDGRID.SEO.Description.descriptionScore(s.descLength)}),_(n.bgseo_meta.descKeywordUsage).extend({lengthScore:BOLDGRID.SEO.Keywords.descriptionScore(BOLDGRID.SEO.Description.keywords())}),_(n.bgseo_keywords.keywordDescription).extend({lengthScore:BOLDGRID.SEO.Keywords.descriptionScore(BOLDGRID.SEO.Description.keywords())})),s.robotIndex&&_(n.bgseo_visibility.robotIndex).extend({lengthScore:s.robotIndex}),s.robotFollow&&_(n.bgseo_visibility.robotFollow).extend({lengthScore:s.robotFollow})}e("#content").trigger("bgseo-report",[n])})},getReport:function(e){var t={};return t=_.isUndefined(e)?n:n[e]}},t=BOLDGRID.SEO.TinyMCE}(jQuery),BOLDGRID.SEO.TinyMCE.init(),function(e){"use strict";var t;BOLDGRID.SEO.ContentAnalysis={seoContentLengthScore:function(e){var t={};return 0===e&&(t={status:"red",msg:_bgseoContentAnalysis.content.length.badEmpty}),e.isBetween(0,199)&&(t={status:"red",msg:_bgseoContentAnalysis.content.length.badShort}),e.isBetween(198,300)&&(t={status:"yellow",msg:_bgseoContentAnalysis.content.length.ok}),e>299&&(t={status:"green",msg:_bgseoContentAnalysis.content.length.good}),t},seoImageLengthScore:function(e){var t={status:"green",msg:_bgseoContentAnalysis.image.length.good};return e||(t={status:"red",msg:_bgseoContentAnalysis.image.length.bad}),t},keywords:function(e){var t=BOLDGRID.SEO.Keywords.getKeyword();return e.occurences(t)}},t=BOLDGRID.SEO.ContentAnalysis}(jQuery),function(e){"use strict";var t;BOLDGRID.SEO.Dashboard={overviewScore:function(e){var n,o=t.totalScore(e),s=_.size(butterbean.models.sections);return n=2*s,(o/n*100).rounded(2)},overviewStatus:function(e){var t;return t="green",e<40&&(t="red"),e.isBetween(39,76)&&(t="yellow"),t},getStatuses:function(e){var t={};return _.each(butterbean.models.sections,function(n){var o,s=n.get("name");o=e[s].sectionStatus,t[s]=o,_(t[s]).extend(o)}),t},assignNumbers:function(e){var n,o;return o=t.getStatuses(e),n=_.mapObject(o,function(e){var t;return"red"===e&&(t=0),"yellow"===e&&(t=1),"green"===e&&(t=2),t})},totalScore:function(e){var n,o=t.assignNumbers(e);return n=_(o).reduce(function(e,t){return e+t},0)}},t=BOLDGRID.SEO.Dashboard}(jQuery),function(e){"use strict";var t;BOLDGRID.SEO.Description={init:function(){e(document).ready(function(){t._description()})},_description:function(){var t=e("#boldgrid-seo-field-meta_description");t.on("input propertychange paste",_.debounce(function(){var t=e(this).val().length;e(this).trigger("bgseo-analysis",[{descLength:t}])},1e3))},descriptionScore:function(e){var t={};return 0===e&&(t={status:"red",msg:_bgseoContentAnalysis.seoDescription.length.badEmpty}),e.isBetween(0,126)&&(t={status:"yellow",msg:_bgseoContentAnalysis.seoDescription.length.ok}),e.isBetween(125,156)&&(t={status:"green",msg:_bgseoContentAnalysis.seoDescription.length.good}),e>156&&(t={status:"red",msg:_bgseoContentAnalysis.seoDescription.length.badLong}),t},keywords:function(){var t=BOLDGRID.SEO.Keywords.getKeyword(),n=e("#boldgrid-seo-field-meta_description").val();return n.occurences(t)}},t=BOLDGRID.SEO.Description}(jQuery),BOLDGRID.SEO.Description.init(),function(e){"use strict";var t;BOLDGRID.SEO.Headings={init:function(){},score:function(e){var t={status:"green",msg:_bgseoContentAnalysis.headings.h1.good};return e>1&&(t={status:"red",msg:_bgseoContentAnalysis.headings.h1.badMultiple}),0===e&&(t={status:"red",msg:_bgseoContentAnalysis.headings.h1.badEmpty}),t},keywords:function(e){var t={length:0},n=BOLDGRID.SEO.Keywords.getKeyword(),o=BOLDGRID.SEO.TinyMCE.getReport();return _.isUndefined(e)&&(e=o.bgseo_dashboard.headings.count),_(e.count).each(function(e,o){var s=e.text;_(s).each(function(e){_(t).extend({length:Number(t.length)+Number(e.occurences(n))})})}),t.length},getHeadingText:function(t){var n=[];return e(t).each(function(){var t=e.trim(e(this).text());n.push(t)}),n},getRealHeadingCount:function(e){var t={};return _.isUndefined(e)&&(e=BOLDGRID.SEO.TinyMCE.getReport()),_.isUndefined(e.rendered)||(t={count:{h1:{length:e.rendered.h1Count+e.rawstatistics.h1Count,text:_(e.rendered.h1text).union(e.rawstatistics.h1text)},h2:{length:e.rendered.h2Count+e.rawstatistics.h2Count,text:_(e.rendered.h2text).union(e.rawstatistics.h2text)}}},_(t).extend({lengthScore:BOLDGRID.SEO.Headings.score(t.count.h1.length)})),t}},t=BOLDGRID.SEO.Headings}(jQuery),function(e){"use strict";var t;BOLDGRID.SEO.Keywords={init:function(){e(document).ready(function(){t._keywords()})},_keywords:function(){var t=e("#bgseo-custom-keyword");t.on("input propertychange paste",_.debounce(function(){var t={};e(this).val().length;t={keywords:{title:{length:BOLDGRID.SEO.Title.keywords(),lengthScore:0},description:{length:BOLDGRID.SEO.Description.keywords(),lengthScore:0},keyword:e.trim(e(this).val())}},e(this).trigger("bgseo-analysis",[t])},1e3))},isKeywordSet:function(){return e("#bgseo-custom-keyword").isFieldSet()},keywordCount:function(e,t){var n;return n=e.split(t).length-1},keywordDensity:function(e){var n,o,s,r,i;return n=BOLDGRID.SEO.TinyMCE.getReport(),i=t.getKeyword(),i=i.toLowerCase(),s=t.keywordCount(e,i),r=n.bgseo_dashboard.wordCount.length,o=s/r*100,o=Math.round(10*o)/10},recommendedKeywords:function(e,t){for(var n,o=e.toLowerCase().split(/\W+/),s={},r=[],i=0;i<o.length;i++){var a=o[i];!a||a.length<3||_bgseoContentAnalysis.stopWords.indexOf(a)>-1||("undefined"==typeof s[a]?(s[a]=r.length,r.push([a,1])):r[s[a]][1]++)}return r.sort(function(e,t){return t[1]-e[1]}),n=r.slice(0,t)},getCustomKeyword:function(){var t=e("#bgseo-custom-keyword").val();return t=e.trim(t)},getKeyword:function(){var e,n=BOLDGRID.SEO.TinyMCE.getReport();return n.bgseo_dashboard.wordCount.length>99&&(e=t.getCustomKeyword().length?t.getCustomKeyword():n.textstatistics.recommendedKeywords[0][0]),e},score:function(){var e={};return e={title:t.titleScore(),description:t.descriptionScore()}},titleScore:function(e){var t;return t={status:"green",msg:_bgseoContentAnalysis.seoTitle.keywordUsage.good},0===e&&(t={status:"red",msg:_bgseoContentAnalysis.seoTitle.keywordUsage.bad}),e>1&&(t={status:"yellow",msg:_bgseoContentAnalysis.seoTitle.keywordUsage.ok}),t},descriptionScore:function(e){var t;return t={status:"green",msg:_bgseoContentAnalysis.seoDescription.keywordUsage.good},0===e&&(t={status:"red",msg:_bgseoContentAnalysis.seoDescription.keywordUsage.bad}),e>1&&(t={status:"yellow",msg:_bgseoContentAnalysis.seoDescription.keywordUsage.ok}),t},contentScore:function(e){var t;return t={status:"green",msg:_bgseoContentAnalysis.content.keywordUsage.good},0===e&&(t={status:"red",msg:_bgseoContentAnalysis.content.keywordUsage.bad}),e.isBetween(0,3)&&(t={status:"yellow",msg:_bgseoContentAnalysis.content.keywordUsage.okShort}),e>3&&(t={status:"yellow",msg:_bgseoContentAnalysis.content.keywordUsage.okLong}),t},headingScore:function(e){var t;return t={status:"green",msg:_bgseoContentAnalysis.headings.keywordUsage.good},0===e&&(t={status:"red",msg:_bgseoContentAnalysis.headings.keywordUsage.bad}),e>3&&(t={status:"yellow",msg:_bgseoContentAnalysis.headings.keywordUsage.ok}),t}},t=BOLDGRID.SEO.Keywords}(jQuery),BOLDGRID.SEO.Keywords.init(),function(e){"use strict";var t;BOLDGRID.SEO.Readability={gradeLevel:function(e){var n,o={};return n=textstatistics(e).fleschKincaidReadingEase(),o=t.gradeAnalysis(n)},gradeAnalysis:function(e){var t,n={};return e>90&&(n={score:e,gradeLevel:"5th grade",explanation:"Very easy to read. Easily understood by an average 11-year-old student.",lengthScore:{status:"green",msg:_bgseoContentAnalysis.readingEase.goodHigh}}),e.isBetween(79,91)&&(n={score:e,gradeLevel:"6th grade",explanation:"Easy to read. Conversational English for consumers.",lengthScore:{status:"green",msg:_bgseoContentAnalysis.readingEase.goodMedHigh}}),e.isBetween(69,81)&&(n={score:e,gradeLevel:"7th grade",explanation:"Fairly easy to read.",lengthScore:{status:"green",msg:_bgseoContentAnalysis.readingEase.goodMedLow}}),e.isBetween(59,71)&&(n={score:e,gradeLevel:"8th & 9th",explanation:"Plain English. Easily understood by 13- to 15-year-old students.",lengthScore:{status:"green",msg:_bgseoContentAnalysis.readingEase.goodLow}}),e.isBetween(49,61)&&(n={score:e,gradeLevel:"10th to 12th",explanation:"Fairly difficult to read.",lengthScore:{status:"yellow",msg:_bgseoContentAnalysis.readingEase.ok}}),e.isBetween(29,51)&&(n={score:e,gradeLevel:"College Student",explanation:"Difficult to read.",lengthScore:{status:"red",msg:_bgseoContentAnalysis.readingEase.badHigh}}),e<30&&(n={score:e,gradeLevel:"College Graduate",explanation:"Difficult to read.",lengthScore:{status:"red",msg:_bgseoContentAnalysis.readingEase.badLow}}),t=_bgseoContentAnalysis.readingEase.score.printf(e)+" ",n.lengthScore.msg=n.lengthScore.msg.replace(/^/,t),n}},t=BOLDGRID.SEO.Readability}(jQuery),function(e){"use strict";var t;BOLDGRID.SEO.Robots={init:function(){e(document).ready(function(){t._index(),t._follow()})},_index:function(){var n=e("input[name=butterbean_boldgrid_seo_setting_bgseo_robots_index]");n.on("change",function(){e(this).trigger("bgseo-analysis",[{robotIndex:t.indexScore()}])})},indexScore:function(){var t={status:"green",msg:_bgseoContentAnalysis.noIndex.good};return e("input[name=butterbean_boldgrid_seo_setting_bgseo_robots_index][value=noindex]").is(":checked")&&(t={status:"red",msg:_bgseoContentAnalysis.noIndex.bad}),t},_follow:function(){var n=e("input[name=butterbean_boldgrid_seo_setting_bgseo_robots_follow]");n.on("change",function(){e(this).trigger("bgseo-analysis",[{robotFollow:t.followScore()}])})},followScore:function(){var t={status:"green",msg:_bgseoContentAnalysis.noFollow.good};return e("input[name=butterbean_boldgrid_seo_setting_bgseo_robots_follow][value=nofollow]").is(":checked")&&(t={status:"yellow",msg:_bgseoContentAnalysis.noFollow.bad}),t}},t=BOLDGRID.SEO.Robots}(jQuery),BOLDGRID.SEO.Robots.init(),function(e){"use strict";var t;BOLDGRID.SEO.Sections={status:function(e){var t="green";return e.red>0?t="red":e.yellow>0&&(t="yellow"),t},score:function(e){var n,o,s;return n={red:0,green:0,yellow:0},o=_(e).countBy(function(t){return _.isUndefined(t.lengthScore)||"sectionScore"===_.property("sectionScore")(e)?"":t.lengthScore.status}),_(o).each(function(e,t){_.has(n,t)&&(n[t]=e)}),s={sectionScore:n,sectionStatus:t.status(n)}},removeStatus:function(e){e.removeClass("red yellow green")},navHighlight:function(n){_.each(butterbean.models.sections,function(o){var s,r=o.get("manager"),i=o.get("name");s=e('[href="#butterbean-'+r+"-section-"+i+'"]').closest("li"),t.removeStatus(s),s.addClass(n[i].sectionStatus)})},overviewStatus:function(n){var o=e("#butterbean-ui-boldgrid_seo.postbox > h2 > span:contains('BoldGrid SEO')");t.removeStatus(o),o.addClass("overview-status "+n.bgseo_dashboard.overview.status)}},t=BOLDGRID.SEO.Sections}(jQuery),function(e){"use strict";var t;BOLDGRID.SEO.Title={init:function(){e(document).ready(function(){t._title()})},getTitle:function(){var t=e("#boldgrid-seo-field-meta_title");return t},_title:function(){var n=t.getTitle();n.on("input propertychange paste",_.debounce(function(){var t=e(this).val().length;e(this).trigger("bgseo-analysis",[{titleLength:t}])},1e3))},titleScore:function(e){var t={};return 0===e&&(t={status:"red",msg:_bgseoContentAnalysis.seoTitle.length.badEmpty}),e.isBetween(0,31)&&(t={status:"yellow",msg:_bgseoContentAnalysis.seoTitle.length.ok}),e.isBetween(29,71)&&(t={status:"green",msg:_bgseoContentAnalysis.seoTitle.length.good}),e>70&&(t={status:"red",msg:_bgseoContentAnalysis.seoTitle.length.badLong}),t},keywords:function(){var e=BOLDGRID.SEO.Keywords.getKeyword(),t=BOLDGRID.SEO.Title.getTitle().val();return t.occurences(e)}},t=BOLDGRID.SEO.Title}(jQuery),BOLDGRID.SEO.Title.init(),function(e){"use strict";var t;BOLDGRID.SEO.Tooltips={init:function(){e(document).ready(function(){t.hideToolTips(),t._enableTooltips(),t._toggleTooltip()})},_toggleTooltip:function(){e(".butterbean-label, .bgseo-tooltip").on("click",function(e){t.toggleTooltip(e)})},_enableTooltips:function(){var t=e(".butterbean-label").next(".butterbean-description"),n=e("<span />",{"class":"bgseo-tooltip dashicons dashicons-editor-help","aria-expanded":"false"});t.length&&t.prev().append(n)},toggleTooltip:function(t){e(t.currentTarget).next(".butterbean-description").slideToggle()},hideToolTips:function(){e(".butterbean-control .butterbean-description").hide()}},t=BOLDGRID.SEO.Tooltips}(jQuery),BOLDGRID.SEO.Tooltips.init(),function(e){"use strict";var t;BOLDGRID.SEO.Util={init:function(){e.fn.extend({isFieldSet:function(){return Boolean(e.trim(e(this).val()).length)},triggerAll:function(e,t){var n,o=this,s=e.split(" ");for(n=0;n<s.length;n+=1)o.trigger(s[n],t);return o}}),Number.prototype.isBetween||(Number.prototype.isBetween=function(e,t){return this>e&&this<t}),Number.prototype.rounded||(Number.prototype.rounded=function(e){var t=Math.pow(10,e),n=Math.round(this*t)/t;return n}),String.prototype.printf||(String.prototype.printf=function(){for(var e=this,t=0;/%s/.test(e);)e=e.replace("%s",arguments[t++]);return e}),String.prototype.occurences||(String.prototype.occurences=function(e,t){if(e+="",e.length<=0)return this.length+1;for(var n=0,o=0,s=t?1:e.length;;){if(o=this.indexOf(e,o),!(o>=0))break;++n,o+=s}return n})}},t=BOLDGRID.SEO.Util}(jQuery),BOLDGRID.SEO.Util.init(),function(e,t){e(function(){function n(){var e,n;e=!o||o.isHidden()?s.val():o.getContent({format:"raw"}),n=t.count(e),n!==r&&s.trigger("bgseo-analysis",[{count:n}]),r=n}var o,s=e("#content"),r=(e("#wp-word-count").find(".word-count"),0);e(document).on("tinymce-editor-init",function(e,t){"content"===t.id&&(o=t,t.on("nodechange keyup",_.debounce(n,1e3)))}),s.on("input keyup",_.debounce(n,1e3)),n()})}(jQuery,new wp.utils.WordCounter);